[gd_scene load_steps=29 format=3 uid="uid://cxtk21i2lroet"]

[ext_resource type="Script" path="res://Game.gd" id="1_rh0f1"]
[ext_resource type="Texture2D" uid="uid://0gwyh74trty8" path="res://Forest/Sprites/Snow_hiding-Sheet.png" id="2_sfucw"]
[ext_resource type="Texture2D" uid="uid://dby5yr7sxc0tj" path="res://Forest/Sprites/Snow_floor_1.png" id="3_30dod"]
[ext_resource type="Texture2D" uid="uid://cxbopvfrvj6b8" path="res://Forest/Sprites/Snow_floor_2.png" id="4_gm2fh"]
[ext_resource type="Texture2D" uid="uid://j4l1yk06ijj5" path="res://Forest/Sprites/Snow_floor_3.png" id="5_joghj"]
[ext_resource type="Texture2D" uid="uid://cos6mn8ofysf6" path="res://Forest/Sprites/Snow_floor_4.png" id="6_47i22"]
[ext_resource type="Texture2D" uid="uid://ccuqcsqmq6hhh" path="res://Forest/Sprites/Snow_wall_3.png" id="7_pt20q"]
[ext_resource type="Script" path="res://GUI.gd" id="7_wkt74"]
[ext_resource type="Texture2D" uid="uid://do3xs1030o033" path="res://Forest/Sprites/Snow_wall_2.png" id="8_fwt3l"]
[ext_resource type="Texture2D" uid="uid://ckf08ha1k5kli" path="res://Forest/Sprites/Snow_wall_1.png" id="9_acw1m"]
[ext_resource type="FontFile" uid="uid://oxuroxbxnss" path="res://Etc/Fonts/Minecraft Rus NEW.otf" id="11_8te26"]
[ext_resource type="AudioStream" uid="uid://0r3ckwycxisg" path="res://Music/Cherez Les.mp3" id="14_kkpxa"]
[ext_resource type="Texture2D" uid="uid://dkpj0yu7urbs8" path="res://Etc/Minimap/blueGem.png" id="14_lhc7a"]
[ext_resource type="PackedScene" uid="uid://cis8texlachtu" path="res://Characters/AlexandrUtkin/alexandr_utkin.tscn" id="15_avgrh"]
[ext_resource type="Texture2D" uid="uid://d12e78dxj7skg" path="res://ebaloalex.jpg" id="16_pkbjn"]
[ext_resource type="Texture2D" uid="uid://bunjg2juo3000" path="res://ebloadrei.jpg" id="17_ju53i"]
[ext_resource type="PackedScene" uid="uid://5r8yl1255ssl" path="res://Characters/AndreiKulek/AndreiKulek.tscn" id="18_7pmwp"]
[ext_resource type="Texture2D" uid="uid://cl3g7v7ooidw7" path="res://Etc/Shadows/light.png" id="20_lhdn5"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_rvmsf"]
texture = ExtResource("2_sfucw")
texture_region_size = Vector2i(96, 54)
0:0/animation_columns = 3
0:0/animation_speed = 3.0
0:0/animation_frame_0/duration = 0.5
0:0/animation_frame_1/duration = 0.5
0:0/animation_frame_2/duration = 0.5
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
4:0/0 = 0
4:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
4:0/0/physics_layer_0/angular_velocity = 0.0
5:0/0 = 0
5:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
5:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_gul6e"]
texture = ExtResource("3_30dod")
texture_region_size = Vector2i(64, 36)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_fkgos"]
texture = ExtResource("4_gm2fh")
texture_region_size = Vector2i(64, 36)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_d32rt"]
texture = ExtResource("5_joghj")
texture_region_size = Vector2i(64, 36)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_53hs3"]
texture = ExtResource("6_47i22")
texture_region_size = Vector2i(64, 36)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_b3wyt"]
texture = ExtResource("7_pt20q")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 14)
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -16, -32, 0, 0, 16, 32, 0)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_ef21d"]
texture = ExtResource("8_fwt3l")
texture_region_size = Vector2i(64, 64)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 14)
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -16, -32, 0, 0, 16, 32, 0)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_obriq"]
texture = ExtResource("9_acw1m")
texture_region_size = Vector2i(64, 80)
0:0/0 = 0
0:0/0/texture_origin = Vector2i(0, 22)
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -16, -32, 0, 0, 16, 32, 0)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0

[sub_resource type="TileSet" id="TileSet_3ls76"]
tile_shape = 1
tile_size = Vector2i(64, 32)
occlusion_layer_0/light_mask = 1
occlusion_layer_0/sdf_collision = true
physics_layer_0/collision_layer = 1
navigation_layer_0/layers = 7
sources/18 = SubResource("TileSetAtlasSource_rvmsf")
sources/33 = SubResource("TileSetAtlasSource_53hs3")
sources/31 = SubResource("TileSetAtlasSource_fkgos")
sources/32 = SubResource("TileSetAtlasSource_d32rt")
sources/40 = SubResource("TileSetAtlasSource_b3wyt")
sources/41 = SubResource("TileSetAtlasSource_ef21d")
sources/42 = SubResource("TileSetAtlasSource_obriq")
sources/30 = SubResource("TileSetAtlasSource_gul6e")

[sub_resource type="LabelSettings" id="LabelSettings_lgjql"]

[node name="Game" type="Node2D"]
scale = Vector2(2, 2)
script = ExtResource("1_rh0f1")

[node name="TileMap" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_3ls76")
rendering_quadrant_size = 64
navigation_visibility_mode = 2
format = 2
layer_0/name = "Ground"
layer_0/y_sort_enabled = true
layer_1/name = "Player_mode"
layer_1/y_sort_enabled = true
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array()
layer_2/name = "Walls_layer"
layer_2/y_sort_enabled = true
layer_2/z_index = 2
layer_2/tile_data = PackedInt32Array()
layer_3/name = "FOG"
layer_3/y_sort_enabled = true
layer_3/z_index = 3
layer_3/tile_data = PackedInt32Array()

[node name="GUI_Canvas" type="CanvasLayer" parent="."]
script = ExtResource("7_wkt74")

[node name="GUI" type="ColorRect" parent="GUI_Canvas"]
texture_filter = 1
offset_right = 522.0
offset_bottom = 36.0
color = Color(0, 0, 0, 1)

[node name="MP_BAR" type="ColorRect" parent="GUI_Canvas/GUI"]
layout_mode = 0
offset_left = 176.0
offset_right = 185.0
offset_bottom = 36.0
color = Color(0.32549, 0.196078, 0.94902, 1)

[node name="HP" type="Label" parent="GUI_Canvas/GUI"]
layout_mode = 1
anchors_preset = 4
anchor_top = 0.5
anchor_bottom = 0.5
offset_top = -24.0
offset_right = 35.0
offset_bottom = 24.0
grow_vertical = 2
theme_override_fonts/font = ExtResource("11_8te26")
text = "TIME:"
label_settings = SubResource("LabelSettings_lgjql")
vertical_alignment = 1

[node name="STAMINA" type="Label" parent="GUI_Canvas/GUI"]
layout_mode = 0
offset_left = 308.0
offset_right = 392.0
offset_bottom = 41.0
theme_override_fonts/font = ExtResource("11_8te26")
text = "STAMINA:"
horizontal_alignment = 1
vertical_alignment = 1

[node name="MP" type="Label" parent="GUI_Canvas/GUI"]
layout_mode = 0
offset_left = 125.0
offset_right = 180.0
offset_bottom = 37.0
theme_override_fonts/font = ExtResource("11_8te26")
text = "MP:"
horizontal_alignment = 1
vertical_alignment = 1

[node name="STAMINA_BAR" type="ColorRect" parent="GUI_Canvas/GUI"]
layout_mode = 0
offset_left = 400.0
offset_right = 440.0
offset_bottom = 36.0
color = Color(0, 0.811765, 0.121569, 1)

[node name="Control" type="Control" parent="GUI_Canvas"]
clip_contents = true
layout_mode = 3
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -272.0
offset_top = 40.0
offset_right = -72.0
offset_bottom = 240.0
grow_horizontal = 0

[node name="SubViewportContainer" type="SubViewportContainer" parent="GUI_Canvas/Control"]
custom_minimum_size = Vector2(200, 200)
layout_direction = 1
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="GUI_Canvas/Control/SubViewportContainer"]
handle_input_locally = false
size = Vector2i(200, 200)
render_target_update_mode = 4

[node name="Mini" type="Node2D" parent="GUI_Canvas/Control/SubViewportContainer/SubViewport"]

[node name="MiniChar" type="Sprite2D" parent="GUI_Canvas/Control/SubViewportContainer/SubViewport/Mini"]
z_index = 1
scale = Vector2(4, 4)
texture = ExtResource("14_lhc7a")

[node name="Camera2D" type="Camera2D" parent="GUI_Canvas/Control/SubViewportContainer/SubViewport/Mini/MiniChar"]
zoom = Vector2(0.05, 0.05)

[node name="MiniMap" type="TileMap" parent="GUI_Canvas/Control/SubViewportContainer/SubViewport/Mini"]
tile_set = SubResource("TileSet_3ls76")
rendering_quadrant_size = 64
navigation_visibility_mode = 2
format = 2
layer_0/name = "Ground"
layer_1/name = "Player_mode"
layer_1/z_index = 1
layer_1/tile_data = PackedInt32Array()

[node name="AlexButton" type="Button" parent="GUI_Canvas"]
z_index = 3
offset_left = 100.0
offset_top = 40.0
offset_right = 1069.0
offset_bottom = 1009.0
scale = Vector2(0.1, 0.1)
mouse_force_pass_scroll_events = false
mouse_default_cursor_shape = 2
keep_pressed_outside = true
icon = ExtResource("16_pkbjn")

[node name="AndreButton" type="Button" parent="GUI_Canvas"]
offset_top = 40.0
offset_right = 972.0
offset_bottom = 1012.0
scale = Vector2(0.1, 0.1)
mouse_default_cursor_shape = 2
icon = ExtResource("17_ju53i")

[node name="RichTextLabel" type="RichTextLabel" parent="GUI_Canvas"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 357.0
grow_vertical = 0
text = "    Cherez Les - DaAndLex Studio"

[node name="Timer" type="Timer" parent="GUI_Canvas"]
process_callback = 0
wait_time = 1800.0
autostart = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[node name="PointLight2D" type="PointLight2D" parent="CanvasModulate"]
scale = Vector2(1.71, 1)
energy = 0.87
range_z_min = -1204
range_z_max = 1000
texture = ExtResource("20_lhdn5")
texture_scale = 0.5
height = 3.0

[node name="MainMusic" type="AudioStreamPlayer" parent="."]
stream = ExtResource("14_kkpxa")
volume_db = -3.276
autoplay = true

[node name="Anima" type="AnimationPlayer" parent="."]
root_node = NodePath("../MainMusic")

[node name="AndreiKulek" parent="." instance=ExtResource("18_7pmwp")]

[node name="Camera2D" type="Camera2D" parent="AndreiKulek"]
zoom = Vector2(2, 2)
drag_left_margin = 0.0
drag_top_margin = 0.0
drag_right_margin = 0.0
drag_bottom_margin = 0.0

[node name="AlexandrUtkin" parent="." instance=ExtResource("15_avgrh")]

[node name="Camera2D" type="Camera2D" parent="AlexandrUtkin"]
zoom = Vector2(2, 2)
drag_left_margin = 0.0
drag_top_margin = 0.0
drag_right_margin = 0.0
drag_bottom_margin = 0.0

[connection signal="mouse_entered" from="GUI_Canvas/AlexButton" to="." method="_on_alex_button_mouse_entered"]
[connection signal="mouse_exited" from="GUI_Canvas/AlexButton" to="." method="_on_alex_button_mouse_exited"]
[connection signal="pressed" from="GUI_Canvas/AlexButton" to="." method="_on_alex_button_pressed"]
[connection signal="mouse_entered" from="GUI_Canvas/AndreButton" to="." method="_on_andre_button_mouse_entered"]
[connection signal="mouse_exited" from="GUI_Canvas/AndreButton" to="." method="_on_andre_button_mouse_exited"]
[connection signal="pressed" from="GUI_Canvas/AndreButton" to="." method="_on_andre_button_pressed"]
[connection signal="finished" from="MainMusic" to="." method="_on_main_music_finished"]
